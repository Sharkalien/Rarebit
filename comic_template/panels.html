<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Web Comic w/Panels</title>
    <link href="style.css" rel="stylesheet" type="text/css" media="all">
  </head>
  <body>



  <div align="center">
    <script>

    function findGetParameter(parameterName) {
    var result = null,
        tmp = [];
    var items = location.search.substr(1).split("&");
    for (var index = 0; index < items.length; index++) {
        tmp = items[index].split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
    }
    return result;
    }

    var i      = Number(findGetParameter("i"));
    var p      = Number(findGetParameter("p"));
    if (i == 0) {i = 1;}
    if (p == 0) {p = 1;}
    var maxid  = 3;
    var folder = "panels";
    var image  = "comic";
    var ext    = "jpg";
    var path   = ((folder != "")? folder+"/" : "") + image + "_" + i + "_" + p + "." + ext;

    document.write(`<img src="`+path+`"/><br/>`);

    var panels = [2,2,3];

    var link_prev = ((p==1) ? "?i="+(i-1)+"&p="+panels[i-2] : "?i="+i+"&p="+(p-1));
    var link_next = ((p==panels[i-1]) ? "?i="+(i+1)+"&p="+1 : "?i="+i+"&p="+(p+1));

    if (i > 1 || (i == 1 && p > 1) ) {
    document.write(`<a href="?i=1&p=1"/>First</a>` );
    } else  {document.write(`First`);}

    document.write(` | `);

    if (i > 1 || (i == 1 && p > 1) ) {
    document.write(`<a href="`+link_prev+`"/>Prev</a>` );
    } else  {document.write(`Prev`);}

    document.write(` | `);

    if (i < maxid || (i == maxid && p < panels[i-1]) ) {
    document.write(`<a href="`+link_next+`"/>Next</a>` );
    } else  {document.write(`Next`);}

    document.write(` | `);

    if (i < maxid || (i == maxid && p < panels[i-1]) ) {
    document.write(`<a href="?i=`+maxid+"&p="+panels[maxid-1]+`"/>Last</a>` );
    } else  {document.write(`Last`);}

    </script>
   </div>


  </body>
</html>